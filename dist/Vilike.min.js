"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Vilike=t()}(void 0,function(){var e={version:"0.2.0"},s="https://api.countapi.xyz";function f(n){return new Promise(function(e){var t=new XMLHttpRequest;t.responseType="json",t.onload=function(){200===t.status?e(t.response):e({status:t.status,res:t.response})},t.open("GET",n,!0),t.send(null)})}return e.exec=function(i,u,c){return new Promise(function(t,n){if(void 0!==i&&""!==i&&void 0!==u&&""!==u)switch(c){case 0:f(s+"/hit/"+i+"/"+u).then(function(e){t(e)}).catch(function(e){n(e)});break;case 1:var e=localStorage.getItem(i),o={};null===e?(localStorage.setItem(i,u),f(s+"/hit/"+i+"/"+u).then(function(e){Object.assign(o,e,{isHit:!0}),t(o)}).catch(function(e){n(e)})):f(s+"/get/"+i+"/"+u).then(function(e){Object.assign(o,e,{isHit:!0}),t(o)}).catch(function(e){n(e)});break;default:n("mode must be 0 or 1")}else n("pkey and skey must be set.")})},e.create=function(e,o,i,u,c){return new Promise(function(t,n){void 0!==e&&""!==e&&void 0!==o&&""!==o?f(s+"/create?namespace="+e+"&key="+o+"&value="+(i=void 0===i||""===i?0:i)+"&enable_reset="+(u=void 0===u||""===u?0:u)+"&update_upperbound="+(c=void 0===c||""===c?1:c)+"&update_lowerbound=0").then(function(e){t(e)}).catch(function(e){n(e)}):n("pkey and skey must be set.")})},e.update=function(e,o,i,u){return new Promise(function(t,n){if(void 0!==e&&""!==e&&void 0!==o&&""!==o)switch(u){case 0:f(s+"/set/"+e+"/"+o+"?value="+(i=void 0===i||""===i?0:i)).then(function(e){t(e)}).catch(function(e){n(e)});break;case 1:f(s+"/update/"+e+"/"+o+"?amount="+(i=void 0===i||""===i?1:i)).then(function(e){t(e)}).catch(function(e){n(e)});break;default:n("type must be 0 or 1.")}else n("pkey and skey must be set.")})},e.info=function(e,o){return new Promise(function(t,n){void 0!==e&&""!==e&&void 0!==o&&""!==o?f(s+"/info/"+e+"/"+o).then(function(e){t(e)}).catch(function(e){n(e)}):n("pkey and skey must be set.")})},"undefined"!=typeof window&&(window.Vilike=e),e});