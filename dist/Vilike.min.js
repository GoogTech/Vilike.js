!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Vilike=t()}(this,function(){"use strict";const e={version:"0.2.1"},a="https://api.countapi.xyz";function c(n){return new Promise(e=>{let t=new XMLHttpRequest;t.responseType="json",t.onload=()=>{200===t.status?e(t.response):e({status:t.status,res:t.response})},t.open("GET",n,!0),t.send(null)})}return e.exec=function(s,i,u){return new Promise(function(n,o){if(void 0!==s&&""!==s&&void 0!==i&&""!==i)switch(u){case 0:c(`${a}/hit/${s}/${i}`).then(e=>{n(e)}).catch(e=>{o(e)});break;case 1:var e=localStorage.getItem(s);let t={};null===e?(localStorage.setItem(s,i),c(`${a}/hit/${s}/${i}`).then(e=>{Object.assign(t,e,{isHit:!0}),n(t)}).catch(e=>{o(e)})):c(`${a}/get/${s}/${i}`).then(e=>{Object.assign(t,e,{isHit:!0}),n(t)}).catch(e=>{o(e)});break;default:o("mode must be 0 or 1")}else o("pkey and skey must be set.")})},e.create=function(e,o,s,i,u){return new Promise(function(t,n){void 0!==e&&""!==e&&void 0!==o&&""!==o?(s=void 0===s||""===s?0:s,i=void 0===i||""===i?0:i,u=void 0===u||""===u?1:u,c(`${a}/create?namespace=${e}&key=${o}&value=${s}&enable_reset=${i}&update_upperbound=${u}&update_lowerbound=0`).then(e=>{t(e)}).catch(e=>{n(e)})):n("pkey and skey must be set.")})},e.update=function(e,o,s,i){return new Promise(function(t,n){if(void 0!==e&&""!==e&&void 0!==o&&""!==o)switch(i){case 0:s=void 0===s||""===s?0:s,c(`${a}/set/${e}/${o}?value=${s}`).then(e=>{t(e)}).catch(e=>{n(e)});break;case 1:s=void 0===s||""===s?1:s,c(`${a}/update/${e}/${o}?amount=${s}`).then(e=>{t(e)}).catch(e=>{n(e)});break;default:n("type must be 0 or 1.")}else n("pkey and skey must be set.")})},e.info=function(e,o){return new Promise(function(t,n){void 0!==e&&""!==e&&void 0!==o&&""!==o?c(`${a}/info/${e}/${o}`).then(e=>{t(e)}).catch(e=>{n(e)}):n("pkey and skey must be set.")})},"undefined"!=typeof window&&(window.Vilike=e),e});